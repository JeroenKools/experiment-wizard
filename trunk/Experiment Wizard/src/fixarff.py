# fixes several flukes in ARFF files generated by Experiment Wizard 1.11
#
# fix applied to all .arff files in a given directory 
# by Jeroen Kools, Apr 6 2011

### specify directory to fix files in ###
FIXDIR = 'c:/experimenter/recordings'

import re, os

filenames = os.listdir(FIXDIR)

for filename in filenames:
    ext = os.path.splitext(filename)[1]
    if ext == '.arff':
        print 'fixing %s' % filename
        text = open(filename,'r')
        newtext = ''
        for line in text:
            print 'line: %s' % line,
            if '\'Anonymous\'' in line:
                line = line.replace('\'','')
            if ',,' in line:
                line = line.replace(',,',',None,')
            if 'audioInstruction' in line:
                pass
            else:
                newtext += line
    text.close()
    out = open(filename,'w')
    out.write(newtext)
    out.close()